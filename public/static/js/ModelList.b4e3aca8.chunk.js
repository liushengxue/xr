"use strict";(self.webpackChunkxr_static=self.webpackChunkxr_static||[]).push([[187],{4741:function(e,n,t){t.r(n);var r=t(4165),o=t(5861),l=t(9439),i=t(2791),a=t(2426),c=t.n(a),s=t(1095),u=t(4571),d=t(3695),f=t(2283),v=t(4219),p=t(7309),m=t(2211),Z=t(8452),h=t(3734),x=t(2622),y=t(9286),C=t(1229),g=t(184);n.default=function(){var e=(0,i.useState)(!1),n=(0,l.Z)(e,2),t=n[0],a=n[1],k=(0,i.useState)([]),b=(0,l.Z)(k,2),j=b[0],w=b[1],E=(0,i.useState)([]),O=(0,l.Z)(E,2),T=O[0],P=O[1],N=s.Z.useForm(),S=(0,l.Z)(N,1)[0],_=[{title:"\u578b\u53f7",dataIndex:"name"},{title:"\u7c7b\u522b",key:"type",render:function(e,n){var t=j.find((function(e){return e.id===n.type_id}));if(t)return t.name}},{title:"\u521b\u5efa\u65f6\u95f4",key:"createTime",render:function(e,n){if(n.create_time)return c()(n.create_time).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c",key:"action",width:"120px",render:function(e,n){return(0,g.jsx)(u.Z,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return H(n)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,g.jsxs)("a",{style:{color:"red",cursorJ:"pointer"},children:[(0,g.jsx)(x.Z,{}),"\u5220\u9664"]})})}}];(0,i.useEffect)((function(){(0,C.Tz)().then((function(e){200===(null===e||void 0===e?void 0:e.code)&&w(null===e||void 0===e?void 0:e.result)})),z()}),[]);var z=function(e){(0,C.fZ)({name:e}).then((function(e){200===(null===e||void 0===e?void 0:e.code)&&P(null===e||void 0===e?void 0:e.result)}))},H=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.$s)({id:n.id});case 2:200===(null===(t=e.sent)||void 0===t?void 0:t.code)?(d.ZP.success("\u5220\u9664\u6210\u529f"),z()):d.ZP.error("\u5220\u9664\u5931\u8d25");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(){t&&S.resetFields(),a(!t)},D=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.validateFields();case 2:return n=e.sent,e.next=5,(0,C.mS)(n);case 5:200===(null===(t=e.sent)||void 0===t?void 0:t.code)?(d.ZP.success("\u6dfb\u52a0\u6210\u529f"),z(),V()):d.ZP.error("\u6dfb\u52a0\u5931\u8d25");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)(f.Z,{bordered:!1,children:[(0,g.jsxs)("div",{style:{marginBottom:10},children:[(0,g.jsx)(v.Z.Search,{placeholder:"\u8f93\u5165\u578b\u53f7\u540d\u79f0\u641c\u7d22",style:{width:300},allowClear:!0,onSearch:function(e){z(e)}}),(0,g.jsx)(p.Z,{type:"primary",style:{float:"right"},icon:(0,g.jsx)(y.Z,{}),onClick:V,children:"\u6dfb\u52a0"})]}),(0,g.jsx)(m.Z,{dataSource:T,rowKey:"id",columns:_,pagination:{},bordered:!0,size:"small"})]}),t&&(0,g.jsx)(Z.Z,{title:"\u6dfb\u52a0\u578b\u53f7",open:!0,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onOk:D,onCancel:V,children:(0,g.jsxs)(s.Z,{form:S,labelCol:{span:4},wrapperCol:{span:19},initialValues:{},autoComplete:"off",children:[(0,g.jsx)(s.Z.Item,{label:"\u578b\u53f7\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u578b\u53f7\u540d\u79f0"}],children:(0,g.jsx)(v.Z,{})}),(0,g.jsx)(s.Z.Item,{label:"\u7c7b\u522b",name:"typeId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5c5e\u7c7b\u522b"}],children:(0,g.jsx)(h.Z,{children:j.map((function(e){return(0,g.jsx)(h.Z.Option,{value:e.id,children:e.name},e.id)}))})})]})})]})}},2622:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1413),o=t(2791),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=t(4291),a=function(e,n){return o.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:l}))};a.displayName="DeleteOutlined";var c=o.forwardRef(a)},4571:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(7462),o=t(9439),l=t(187),i=t(1694),a=t.n(i),c=t(5179),s=t(1354),u=t(2791),d=t(1929),f=t(9228),v=t(1113),p=t(7309),m=t(2571),Z=t(1783),h=t(3486),x=t(454),y=t(7924),C=function(e){var n=e.prefixCls,t=e.okButtonProps,o=e.cancelButtonProps,l=e.title,i=e.cancelText,a=e.okText,c=e.okType,s=e.icon,f=e.showCancel,v=void 0===f||f,C=e.close,g=e.onConfirm,k=e.onCancel,b=u.useContext(d.E_).getPrefixCls;return u.createElement(h.Z,{componentName:"Popconfirm",defaultLocale:x.Z.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(n,"-inner-content")},u.createElement("div",{className:"".concat(n,"-message")},s,u.createElement("div",{className:"".concat(n,"-message-title")},(0,y.Z)(l))),u.createElement("div",{className:"".concat(n,"-buttons")},v&&u.createElement(p.Z,(0,r.Z)({onClick:k,size:"small"},o),null!==i&&void 0!==i?i:e.cancelText),u.createElement(Z.Z,{buttonProps:(0,r.Z)((0,r.Z)({size:"small"},(0,m.n)(c)),t),actionFn:g,close:C,prefixCls:b("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==a&&void 0!==a?a:e.okText)))}))},g=void 0,k=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},b=u.forwardRef((function(e,n){var t=u.useContext(d.E_).getPrefixCls,i=(0,c.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),p=(0,o.Z)(i,2),m=p[0],Z=p[1],h=function(n,t){var r,o;Z(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,t),null===(o=e.onOpenChange)||void 0===o||o.call(e,n,t)},x=e.prefixCls,y=e.placement,b=void 0===y?"top":y,j=e.trigger,w=void 0===j?"click":j,E=e.okType,O=void 0===E?"primary":E,T=e.icon,P=void 0===T?u.createElement(l.Z,null):T,N=e.children,S=e.overlayClassName,_=k(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),z=t("popover",x),H=t("popconfirm",x),V=a()(H,S);return u.createElement(f.Z,(0,r.Z)({},_,{trigger:w,prefixCls:z,placement:b,onOpenChange:function(n){var t=e.disabled;void 0!==t&&t||h(n)},open:m,ref:n,overlayClassName:V,_overlay:u.createElement(C,(0,r.Z)({okType:O,icon:P},e,{prefixCls:z,close:function(e){h(!1,e)},onConfirm:function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(g,n)},onCancel:function(n){var t;h(!1,n),null===(t=e.onCancel)||void 0===t||t.call(g,n)}}))}),(0,v.Tm)(N,{onKeyDown:function(e){var n,t;u.isValidElement(N)&&(null===(t=null===N||void 0===N?void 0:(n=N.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===s.Z.ESC&&m&&h(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=ModelList.b4e3aca8.chunk.js.map