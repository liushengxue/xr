{"version":3,"file":"static/js/CreateOrder.2600cfc6.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons-svg/es/asn/SaveOutlined.js","../node_modules/@ant-design/icons/es/icons/SaveOutlined.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js","pages/process/AddLine.js","pages/process/CustomInfo.js","pages/process/CreateOrder.js"],"sourcesContent":["// This icon file is generated automatically.\nvar SaveOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" } }] }, \"name\": \"save\", \"theme\": \"outlined\" };\nexport default SaveOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SaveOutlinedSvg from \"@ant-design/icons-svg/es/asn/SaveOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SaveOutlined = function SaveOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: SaveOutlinedSvg\n  }));\n};\n\nSaveOutlined.displayName = 'SaveOutlined';\nexport default /*#__PURE__*/React.forwardRef(SaveOutlined);","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;","import React, { useState } from 'react';\nimport { Form, Input, Card, Col, Row, Button, Select } from 'antd';\nimport { getModelAndBrandByType } from '../../api/api';\n\nfunction AddLine(props) {\n  const { form, typeList, close } = props;\n  const [model, updateModel] = useState([]);\n  const [brand, updateBrand] = useState([]);\n\n  function setName(param) {\n    form.setFieldsValue(param);\n  }\n\n  async function onChange(value) {\n    if (value) {\n      setName({ typeName: typeList.find((type) => type.id === value).name, base: { model: '', brand: '' } });\n      const res = await getModelAndBrandByType({ typeId: value });\n      if (res?.code === 200) {\n        updateModel(res?.result?.modelList);\n        updateBrand(res?.result?.brandList);\n      }\n    }\n  }\n\n  function onclose() {\n    form.resetFields();\n    close();\n  }\n\n  return (\n    <Card title={null} style={{ marginTop: 5 }} size=\"small\">\n      <Row gutter={24}>\n        <Col span={4}>\n          <Form.Item label=\"类别\" name={['base', 'type']} rules={[{ required: true, message: '请选择类别' }]}>\n            <Select showSearch onChange={onChange}>\n              {typeList.map((type) => (\n                <Select.Option value={type.id} key={type.id}>\n                  {type.name}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item label=\"类别名称\" name=\"typeName\" style={{ display: 'none' }}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={4}>\n          <Form.Item label=\"型号\" name={['base', 'model']} rules={[{ required: true, message: '请选择型号' }]}>\n            <Select showSearch onChange={(value) => setName({ modelName: model.find((m) => m.id === value).name })}>\n              {model.map((item) => (\n                <Select.Option value={item.id} key={item.id}>\n                  {item.name}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item label=\"型号名称\" name=\"modelName\" style={{ display: 'none' }}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={4}>\n          <Form.Item label=\"品牌\" name={['base', 'brand']} rules={[{ required: true, message: '请选择品牌' }]}>\n            <Select showSearch onChange={(value) => setName({ brandName: brand.find((b) => b.id === value).name })}>\n              {brand.map((item) => (\n                <Select.Option value={item.id} key={item.id}>\n                  {item.name}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item label=\"品牌名称\" name=\"brandName\" style={{ display: 'none' }}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={4}>\n          <Form.Item label=\"备注\" name={['base', 'note']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={3}>\n          <Form.Item label=\"数量\" name={['base', 'count']} rules={[{ required: true, message: '请填写数量' }]}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={3}>\n          <Form.Item label=\"单价\" name={['base', 'price']} rules={[{ required: true, message: '请填写单价' }]}>\n            <Input />\n          </Form.Item>\n        </Col>\n\n        <Button type=\"danger\" onClick={onclose}>\n          取消\n        </Button>\n      </Row>\n    </Card>\n  );\n}\n\nexport default AddLine;\n","import React from 'react';\nimport { Form, Input, Card, Col, Row, Select } from 'antd';\n\nfunction CustomInfo(props) {\n  return (\n    <Card title=\"客户信息\" size=\"small\">\n      <Row gutter={24} wrap={false}>\n        <Col span={6}>\n          <Form.Item label=\"客户姓名\" name={['custom', 'customName']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={6}>\n          <Form.Item label=\"客户电话\" name={['custom', 'customPhone']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\"客户地址\" name={['custom', 'customAddress']}>\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={24} wrap={false}>\n        <Col span={3}>\n          <Form.Item label=\"付款方式\" name={['custom', 'payType']}>\n            <Select>\n              <Option value=\"现金\">现金</Option>\n              <Option value=\"等通知\">等通知</Option>\n              <Option value=\"月结\">月结</Option>\n              <Option value=\"开单打款\">开单打款</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={3}>\n          <Form.Item label=\"定金\" name={['custom', 'deposit']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={3}>\n          <Form.Item label=\"总价\" name={['custom', 'totalPrice']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={4}>\n          <Form.Item label=\"物流名称\" name={['custom', 'expressName']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={5}>\n          <Form.Item label=\"物流电话\" name={['custom', 'expressPhone']}>\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col span={6}>\n          <Form.Item label=\"物流地址\" name={['custom', 'expressAddress']}>\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Card>\n  );\n}\n\nexport default CustomInfo;\n","import React, { Fragment, useEffect, useState } from 'react';\nimport { Card, Form, Button, Table, message } from 'antd';\nimport { PlusOutlined, SaveOutlined, CheckOutlined } from '@ant-design/icons';\nimport AddLine from './AddLine';\nimport CustomInfo from './CustomInfo';\nimport { getTypeList, createOrder } from '../../api/api';\n\nconst columns = [\n  { title: '类别', dataIndex: 'typeName' },\n  { title: '型号', dataIndex: 'modelName' },\n  { title: '品牌', dataIndex: 'brandName' },\n  { title: '备注', dataIndex: 'note' },\n  { title: '数量(台)', dataIndex: 'count' },\n  { title: '单价(元)', dataIndex: 'price' },\n  { title: '小计(元)', dataIndex: 'total' },\n];\n\nfunction CreateOrder() {\n  const [form] = Form.useForm();\n  const [lineVisible, updateLineVisible] = useState(false);\n  const [typeList, updateTypeList] = useState([]);\n  const [storage, updateStorage] = useState([]);\n\n  useEffect(() => {\n    getTypeList().then((res) => {\n      if (res?.code === 200) {\n        updateTypeList(res?.result);\n      }\n    });\n  }, []);\n\n  function addLine() {\n    form.validateFields().then((values) => {\n      if (!values?.base?.type) {\n        return;\n      }\n      updateStorage(storage.concat({ ...values.base, brandName: values.brandName, modelName: values.modelName, typeName: values.typeName }));\n      updateLineVisible(false);\n      form.resetFields();\n    });\n  }\n\n  async function submit() {\n    const values = await form.validateFields();\n    const { custom, base } = values;\n    if (!(custom?.customName || custom?.customPhone)) {\n      return message.error('请输入客户姓名和电话');\n    }\n    // 当没有类别时，证明没有新增一行，则校验selected\n    if (!base?.type && !storage.length) {\n      return message.error('暂无数据');\n    }\n    const orderList = [...storage];\n    if (base?.type) {\n      orderList.push({ ...values.base });\n    }\n    const payload = { orderList, customInfo: values.custom };\n    const res = await createOrder(payload);\n    if (res?.code === 200) {\n      message.success('下单成功');\n      updateStorage();\n      updateLineVisible(false);\n      form.resetFields();\n    } else {\n      message.error('下单失败');\n    }\n  }\n\n  return (\n    <Form form={form} size=\"small\" autoComplete=\"off\" initialValues={{ custom: { payType: '现金' } }}>\n      <Card bordered style={{ height: 'calc(100vh - 250px)', overflow: 'auto', borderColor: 'green' }}>\n        <div style={{ float: 'right', marginBottom: 10 }}>\n          <Button icon={<PlusOutlined />} type=\"primary\" size=\"default\" onClick={() => updateLineVisible(true)}>\n            新增一行\n          </Button>\n          <Button icon={<SaveOutlined />} type=\"primary\" size=\"default\" style={{ marginLeft: 10 }} onClick={addLine}>\n            保存\n          </Button>\n          <Button icon={<CheckOutlined />} type=\"primary\" size=\"default\" style={{ marginLeft: 10 }} onClick={submit}>\n            确定下单\n          </Button>\n        </div>\n\n        <Table dataSource={storage} rowKey=\"id\" columns={columns} pagination={false} bordered size=\"small\" />\n        {lineVisible && <AddLine form={form} close={updateLineVisible} typeList={typeList} />}\n      </Card>\n\n      <CustomInfo />\n    </Form>\n  );\n}\n\nexport default CreateOrder;\n"],"names":["SaveOutlined","props","ref","React","AntdIcon","_objectSpread","icon","SaveOutlinedSvg","displayName","form","typeList","close","useState","model","updateModel","brand","updateBrand","setName","param","setFieldsValue","value","typeName","find","type","id","name","base","getModelAndBrandByType","typeId","res","code","result","modelList","brandList","title","style","marginTop","size","gutter","span","label","rules","required","message","showSearch","onChange","map","display","modelName","m","item","brandName","b","onClick","resetFields","wrap","Option","columns","dataIndex","Form","lineVisible","updateLineVisible","updateTypeList","storage","updateStorage","validateFields","values","custom","customName","customPhone","length","orderList","push","payload","customInfo","createOrder","useEffect","getTypeList","then","autoComplete","initialValues","payType","bordered","height","overflow","borderColor","float","marginBottom","PlusOutlined","marginLeft","concat","CheckOutlined","dataSource","rowKey","pagination"],"sourceRoot":""}